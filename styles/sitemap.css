/* Sitemap Page Styles */

.sitemap-container {
    background: linear-gradient(135deg, #f0f4f8, #d9e2ec);
    padding: var(--space-8, 48px);
    border-radius: var(--radius-xl, 24px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    margin-bottom: var(--space-8, 48px);
    overflow-x: auto;
    scroll-behavior: smooth;
}

.sitemap-svg {
    width: 100%;
    height: auto;
    min-height: 600px;
    filter: drop-shadow(0 8px 12px rgba(0,0,0,0.05));
}

/* Node Styles */
.node {
    fill: var(--primary-100, #bbdefb);
    stroke: var(--primary-600, #1976d2);
    stroke-width: 2;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    filter: drop-shadow(0 2px 6px rgba(0,0,0,0.08));
    /* Slight rounded corners */
    rx: 15px;
}

.node:hover {
    fill: var(--primary-300, #64b5f6);
    stroke: var(--primary-800, #0d47a1);
    stroke-width: 3;
    filter: drop-shadow(0 6px 15px rgba(25, 118, 210, 0.4));
    transform: scale(1.07);
}

.home-node {
    fill: var(--secondary-100, #ffe082);
    stroke: var(--secondary-600, #ffb300);
}

.home-node:hover {
    fill: var(--secondary-300, #ffd54f);
    stroke: var(--secondary-800, #ff8f00);
}

.volunteer-node {
    fill: var(--accent-100, #f48fb1);
    stroke: var(--accent-600, #c2185b);
}

.volunteer-node:hover {
    fill: var(--accent-300, #f06292);
    stroke: var(--accent-800, #880e4f);
}

.table-node {
    fill: var(--warning-100, #fff59d);
    stroke: var(--warning-600, #fbc02d);
}

.table-node:hover {
    fill: var(--warning-300, #fff176);
    stroke: var(--warning-800, #f9a825);
}

.feedback-node {
    fill: var(--success-100, #a5d6a7);
    stroke: var(--success-600, #2e7d32);
}

.feedback-node:hover {
    fill: var(--success-300, #81c784);
    stroke: var(--success-800, #1b5e20);
}

.team-node {
    fill: var(--primary-100, #bbdefb);
    stroke: var(--primary-600, #1976d2);
}

.team-node:hover {
    fill: var(--primary-300, #64b5f6);
    stroke: var(--primary-800, #0d47a1);
}

/* Profile node with fresh teal accent */
.profile-node {
    fill: #80deea;
    stroke: #00838f;
    transition: all 0.4s ease;
    cursor: pointer;
    filter: drop-shadow(0 2px 6px rgba(0, 131, 143, 0.3));
}

.profile-node:hover {
    fill: #4dd0e1;
    stroke: #006064;
    filter: drop-shadow(0 8px 18px rgba(0, 131, 143, 0.6));
    transform: scale(1.1);
}

/* Content nodes */
.content-node {
    fill: var(--neutral-100, #e1e8f0);
    stroke: var(--neutral-500, #9aa5b1);
}

.content-node:hover {
    fill: var(--neutral-300, #cfd8dc);
    stroke: var(--neutral-700, #607d8b);
}

.editor-node,
.validation-node {
    fill: var(--neutral-200, #cfd8dc);
    stroke: var(--neutral-600, #78909c);
}

.editor-node:hover,
.validation-node:hover {
    fill: var(--neutral-400, #b0bec5);
    stroke: var(--neutral-700, #546e7a);
}

/* Text Styles */
.sitemap-svg text {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 15px;
    font-weight: 700;
    fill: var(--neutral-900, #1c1f24);
    pointer-events: none;
    text-anchor: middle;
    dominant-baseline: middle;
    filter: drop-shadow(1px 1px 2px rgba(255 255 255 / 0.6));
    user-select: none;
    transition: fill 0.3s ease;
}

.node:hover text,
.node-group:focus text {
    fill: #ffffff;
    filter: drop-shadow(0 0 6px rgba(0,0,0,0.7));
}

/* Connection Lines */
.connection {
    stroke: var(--neutral-400, #90a4ae);
    stroke-width: 2;
    transition: all 0.4s ease;
    stroke-dasharray: 6 6;
}

.node-group:hover .connection {
    stroke: var(--primary-600, #1976d2);
    stroke-width: 3;
    stroke-dasharray: 0;
}

/* Node Group Interactions */
.node-group {
    transition: transform 0.3s ease, filter 0.3s ease;
}

.node-group:hover {
    transform: scale(1.08);
    filter: drop-shadow(0 12px 30px rgba(25, 118, 210, 0.35));
}

.node-group:focus {
    outline: none;
    transform: scale(1.1);
    filter: drop-shadow(0 15px 40px rgba(25, 118, 210, 0.5));
    border-radius: 18px;
}

/* Sitemap Legend */
.sitemap-legend {
    background: #ffffffcc;
    backdrop-filter: blur(6px);
    padding: var(--space-6, 24px);
    border-radius: var(--radius-lg, 18px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    max-width: 720px;
    margin: 0 auto;
}

.sitemap-legend h3 {
    margin-bottom: var(--space-4, 16px);
    color: var(--neutral-900, #222);
    font-weight: 700;
    font-size: 1.75rem;
    text-align: center;
    letter-spacing: 0.05em;
}

.legend-items {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: var(--space-4, 16px);
}

.legend-item {
    display: flex;
    align-items: center;
    gap: var(--space-3, 12px);
    padding: var(--space-3, 12px);
    background: #f7fafc;
    border-radius: var(--radius-md, 12px);
    transition: all 0.25s ease;
    font-weight: 600;
    color: var(--neutral-700, #4a4f55);
}

.legend-item:hover {
    background: var(--primary-50, #e3f2fd);
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(25, 118, 210, 0.12);
}

.legend-color {
    width: 22px;
    height: 22px;
    border-radius: var(--radius-sm, 6px);
    border: 2.5px solid;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

.home-color {
    background-color: var(--secondary-100, #ffe082);
    border-color: var(--secondary-600, #ffb300);
}

.main-color {
    background-color: var(--primary-100, #bbdefb);
    border-color: var(--primary-600, #1976d2);
}

.content-color {
    background-color: var(--neutral-100, #e1e8f0);
    border-color: var(--neutral-500, #9aa5b1);
}

.editor-color {
    background-color: var(--neutral-200, #cfd8dc);
    border-color: var(--neutral-600, #78909c);
}

/* Accessibility */
.node-group a {
    display: block;
    text-decoration: none;
}

.node-group a:focus {
    outline: 3px solid var(--primary-500, #1976d2);
    outline-offset: 3px;
    border-radius: 18px;
}

/* Responsive Design */
@media (max-width: 768px) {
    .sitemap-container {
        padding: var(--space-4, 24px);
    }
    
    .sitemap-svg {
        min-height: 550px;
    }
    
    .sitemap-svg text {
        font-size: 13px;
    }
    
    .legend-items {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .sitemap-svg {
        min-height: 420px;
    }
    
    .sitemap-svg text {
        font-size: 11px;
    }
    
    .node {
        stroke-width: 1.5;
    }
    
    .node:hover {
        stroke-width: 2.5;
    }
    
    .connection {
        stroke-width: 1.5;
        stroke-dasharray: 4 4;
    }
    
    .node-group:hover .connection {
        stroke-width: 2.5;
        stroke-dasharray: 0;
    }
    
    .legend-color {
        width: 18px;
        height: 18px;
        border-width: 2px;
    }
}

/* Animations for sitemap load */
@keyframes nodeAppear {
    from {
        opacity: 0;
        transform: scale(0.5);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes lineGrow {
    from {
        stroke-dasharray: 1000;
        stroke-dashoffset: 1000;
    }
    to {
        stroke-dasharray: 1000;
        stroke-dashoffset: 0;
    }
}

.node-group {
    animation: nodeAppear 0.5s ease-out;
}

.connection {
    animation: lineGrow 1s ease-out;
}

/* Stagger animation delays */
.node-group:nth-child(1) { animation-delay: 0.1s; }
.node-group:nth-child(2) { animation-delay: 0.2s; }
.node-group:nth-child(3) { animation-delay: 0.3s; }
.node-group:nth-child(4) { animation-delay: 0.4s; }
.node-group:nth-child(5) { animation-delay: 0.5s; }
.node-group:nth-child(6) { animation-delay: 0.6s; }
.node-group:nth-child(7) { animation-delay: 0.7s; }
.node-group:nth-child(8) { animation-delay: 0.8s; }
.node-group:nth-child(9) { animation-delay: 0.9s; }
.node-group:nth-child(10) { animation-delay: 1.0s; }
.node-group:nth-child(11) { animation-delay: 1.1s; }
.node-group:nth-child(12) { animation-delay: 1.2s; }
